#
# Minimal Sphinx configuration sample (clean, simple, functional)
#
##############rosewholesale
source rosewholesale
{
        type                                    = mysql
 
        sql_host                                = 10.60.46.193
        sql_user                                = rw_test_user
        sql_pass                                = AZtlBMG7JqYEQF 
        sql_db                                  = rosewholesale_db_20160119
        sql_sock                          =  /tmp/mysql.sock
        sql_port                                = 3306  # optional, default is 3306
sql_query_pre = SET NAMES utf8
		sql_query_pre           = REPLACE INTO  eload_sphinx_counter values('rw',now(),now())

        sql_query                               = \
select g.goods_id,ge.group_sale_number,g.is_BF,is_24h_ship,g.up, g.goods_sn, g.goods_title,g.url_title, g.goods_name, g.goods_brief, g.add_time, g.sort_order,day3sale, g.group_goods_id, g.point_rate,g.seo_id, g.goods_weight,g.group_color_goods_id, \
if(g.is_best=0,g.promote_start_date,1) AS promote_start_date, if(g.is_best=0,g.promote_end_date,9999999999) AS promote_end_date, ge.shelf_down_type, ge.clearance_discount, ge.clearance_date,ge.is_distribution, ge.goods_model,ge.recommended_level,\
if(goods_width>55 || goods_height>55 || goods_length > 55 || goods_length+goods_width+goods_height>80 || goods_weight>2,0,is_free_shipping ) as is_free_shipping, g.is_hot,g.is_new, g.is_promote,g.week1sale, g.week2sale,ge.week2sale_us, ge.week2sale_ca, ge.week2sale_au, ge.week2sale_gb, ge.week2sale_pr,ge.week2sale_price, g.click_count, g.shop_price, g.is_login, g.cat_id, (if(goods_number=0,0,1)) as goods_number,(if(ego.id>0,1,0)) as outlet_id, ego.outlet_sort, \
                       ge.review_count AS reviews, g.recommendation, CONCAT_WS(' ',g.goods_search_attr,CONCAT(',',GROUP_CONCAT(ga.attr_value separator ', ,'),',')) AS goods_attr, \
 (if(g.add_time>UNIX_TIMESTAMP()-604800,if(ge.img_type=2,1,(if(ge.img_type=1,2,3))),4)) as self_img_type, \
 CONCAT_WS(' ',g.goods_title,GROUP_CONCAT(ga.attr_value separator ' ')) AS goods_title_color_size,GROUP_CONCAT(gac.attr_value separator ' ') AS goods_color, \
REPLACE(g.goods_search_attr,',','') AS goods_search_attr_test, \
(g.week2sale+1)*ln(ge.available_stock+1) as cxj, \
                       CONCAT(IF(g.promote_start_date<UNIX_TIMESTAMP() AND g.promote_end_date>UNIX_TIMESTAMP(), 2, 1), EXISTS(SELECT goods_id FROM eload_goods_tuijian WHERE goods_id=g.goods_id AND (is_best=1 OR is_new=1 OR is_hot=1))) AS hot_order, \
					   (if(ge.goods_brand is null,0,1)) AS has_goods_brand,rwc.overall_rate, \
                       (if(ge.edit_status = 8,1,0)) AS edit_status_8, \
                       (CASE WHEN cns.sort IS NULL THEN 99999 ELSE cns.sort END) AS new_goods_sort, \
                       FROM_UNIXTIME(g.add_time, '%Y%m%d') AS new_goods_date, \
					   ge.goods_grade,(if(ge.real_stock=0,0,1)) as real_stock,(if(ge.in_stock=0,0,1)) as in_stock, \
                       ge.unsalable, \
					   IF(g.promote_start_date<UNIX_TIMESTAMP() AND g.promote_end_date>UNIX_TIMESTAMP(), g.promote_price, g.shop_price) AS last_real_price,g.week1sale_spu,g.week2sale_spu, CEIL((market_price - (IF(g.promote_start_date<UNIX_TIMESTAMP() AND g.promote_end_date>UNIX_TIMESTAMP(), g.promote_price, g.shop_price)))*100/market_price) AS zhekou \
                FROM eload_goods as g \
                LEFT JOIN eload_goods_extend as ge ON g.goods_id = ge.goods_id \
                LEFT JOIN eload_goods_attr as ga ON g.goods_id = ga.goods_id \
                LEFT JOIN eload_goods_attr AS gac ON g.goods_id = gac.goods_id AND gac.`attr_id`=8 \
				LEFT JOIN eload_r_rosewholesale_category as rwc ON rwc.goods_sn = g.goods_sn \
                LEFT JOIN eload_category_new_sort as cns ON g.cat_id = cns.cat_id \
                LEFT JOIN eload_goods_outlet as ego ON g.goods_sn = ego.goods_sn \
                WHERE g.is_on_sale=1 AND g.is_delete=0 AND g.is_alone_sale = 1 AND g.goods_thumb != '' GROUP BY g.goods_id
sql_attr_timestamp   = add_time
sql_attr_float    = overall_rate
sql_attr_uint    = is_24h_ship
sql_attr_uint    = is_BF
sql_attr_uint    = edit_status_8
sql_attr_uint    = new_goods_sort
sql_attr_uint    = new_goods_date
sql_attr_uint    = goods_grade
sql_attr_uint    = unsalable
sql_attr_uint    = sort_order
sql_attr_uint    = shelf_down_type
sql_attr_uint    = self_img_type
sql_attr_float   = clearance_discount
sql_attr_uint    = clearance_date
sql_attr_uint    = goods_number
sql_attr_uint    = real_stock
sql_attr_uint    = in_stock
sql_attr_uint    = group_goods_id
sql_attr_uint    = group_color_goods_id
sql_attr_float   = point_rate
sql_attr_uint    = is_free_shipping
sql_attr_uint    = is_hot
sql_attr_timestamp   = promote_start_date
sql_attr_timestamp   = promote_end_date
sql_attr_uint    = reviews
sql_attr_uint    = recommendation
sql_attr_uint    = week1sale
sql_attr_uint    = week2sale
sql_attr_uint    = week2sale_us
sql_attr_uint    = week2sale_ca
sql_attr_uint    = week2sale_au
sql_attr_uint    = week2sale_gb
sql_attr_uint    = week2sale_pr
sql_attr_uint    = week2sale_price
sql_attr_uint    = group_sale_number
sql_attr_float   = cxj
sql_attr_uint    = click_count
sql_attr_float   = shop_price
sql_attr_uint   = week1sale_spu
sql_attr_uint   = week2sale_spu
sql_attr_uint   = zhekou
sql_attr_float   = last_real_price
sql_attr_uint    = is_login
sql_attr_uint    = is_new
sql_attr_float   = goods_weight
sql_attr_bigint  = seo_id
sql_attr_uint    = cat_id	
sql_attr_uint    =is_promote
sql_attr_uint    =hot_order
sql_attr_uint    =has_goods_brand
sql_attr_uint    = up
sql_field_string = goods_model
sql_field_string = url_title
sql_attr_uint    = day3sale
sql_attr_uint    = is_distribution
sql_attr_uint    = recommended_level
sql_attr_multi   = uint cat_id_all from query; SELECT goods_id,cat_id FROM (SELECT goods_id,cat_id FROM eload_goods UNION SELECT goods_id,cat_id FROM eload_goods_cat) AS t
sql_attr_multi       = uint search_attr from query; SELECT goods_id,crc32 FROM eload_goods_desc_info
sql_attr_uint	 = outlet_id
sql_attr_uint    = outlet_sort
}
 
index rosewholesale
{
    source               =  rosewholesale
    path                 = /usr/local/sphinx/var/data/rosewholesale
    docinfo              = extern
    enable_star          = 1
    charset_type         = utf-8
    infix_fields         = goods_sn,goods_brief,goods_title,goods_name,goods_title_color_size,goods_color,goods_search_attr_test
    min_infix_len        = 1
    charset_table        = 0..9,A..Z->a..z,a..z,U+2C,U+2E,U+2B,U+5F,U+7B,U+7D,U+5E,U+43,U+26,U+28,U+29,U+2F,U+2D
    #charset_table       = 0..9,A..Z->a..z,a..z,U+2C,U+2E,U+2B,U+5F,U+7B,U+7D,U+5E
}
##############rosewholesale end





##############rosewholesale_es start
source rosewholesale_es
{
        type                                    = mysql
 
        sql_host                                = 10.60.46.193
        sql_user                                = rw_test_user
        sql_pass                                = AZtlBMG7JqYEQF 
        sql_db                                  = rosewholesale_db_20160119
        sql_sock                          		= /tmp/mysql.sock
        sql_port                                = 3306  # optional, default is 3306
		sql_query_pre 							= SET NAMES utf8
        sql_query                               = \
select g.goods_id,ge.group_sale_number,is_24h_ship,g.is_BF,g.up, g.goods_sn, ges.goods_title,(if (ges.url_title!='',ges.url_title,g.url_title)) as url_title, day3sale,ges.goods_name, ges.goods_brief, g.add_time, g.sort_order, g.group_goods_id,g.group_color_goods_id, g.point_rate,g.seo_id, g.goods_weight, \
if(g.is_best=0,g.promote_start_date,1) AS promote_start_date, if(g.is_best=0,g.promote_end_date,9999999999) AS promote_end_date, ge.shelf_down_type, ge.clearance_discount, ge.clearance_date,ge.is_distribution, ge.goods_model,ge.recommended_level,\
if(goods_width>55 || goods_height>55 || goods_length > 55 || goods_length+goods_width+goods_height>80 || goods_weight>2,0,is_free_shipping ) as is_free_shipping, g.is_hot,g.is_new, g.is_promote,g.week1sale, g.week2sale,ge.week2sale_us, ge.week2sale_ca, ge.week2sale_au, ge.week2sale_gb, ge.week2sale_pr,ge.week2sale_price, g.click_count, g.shop_price, g.is_login, g.cat_id, (if(goods_number=0,0,1)) as goods_number, (if(ego.id>0,1,0)) as outlet_id, ego.outlet_sort, \
                       ge.review_count AS reviews, g.recommendation, CONCAT_WS(' ',g.goods_search_attr,CONCAT(',',GROUP_CONCAT(ga.attr_value separator ', ,'),',')) AS goods_attr, \
 (if(g.add_time>UNIX_TIMESTAMP()-604800,if(ge.img_type=2,1,(if(ge.img_type=1,2,3))),4)) as self_img_type, \
 CONCAT_WS(' ',g.goods_title,GROUP_CONCAT(gal.attr_value separator ' ')) AS goods_title_color_size,GROUP_CONCAT(gac.attr_value separator ' ') AS goods_color, \
REPLACE(ges.goods_search_attr,',','') AS goods_search_attr_test, \
(g.week2sale+1)*ln(ge.available_stock+1) as cxj, \
                       CONCAT(IF(g.promote_start_date<UNIX_TIMESTAMP() AND g.promote_end_date>UNIX_TIMESTAMP(), 2, 1), EXISTS(SELECT goods_id FROM eload_goods_tuijian WHERE goods_id=g.goods_id AND (is_best=1 OR is_new=1 OR is_hot=1))) AS hot_order, \
					   (if(ge.goods_brand is null,0,1)) AS has_goods_brand,rwc.overall_rate, \
                       (if(ge.edit_status = 8,1,0)) AS edit_status_8, \
                       (CASE WHEN cns.sort IS NULL THEN 99999 ELSE cns.sort END) AS new_goods_sort, \
                       FROM_UNIXTIME(g.add_time, '%Y%m%d') AS new_goods_date, \
					   ge.goods_grade,(if(ge.real_stock=0,0,1)) as real_stock,(if(ge.in_stock=0,0,1)) as in_stock, \
                       ge.unsalable, \
					   IF(g.promote_start_date<UNIX_TIMESTAMP() AND g.promote_end_date>UNIX_TIMESTAMP(), g.promote_price, g.shop_price) AS last_real_price, g.week1sale_spu,g.week2sale_spu, CEIL((market_price - (IF(g.promote_start_date<UNIX_TIMESTAMP() AND g.promote_end_date>UNIX_TIMESTAMP(), g.promote_price, g.shop_price)))*100/market_price) AS zhekou \
                FROM eload_goods as g \
				JOIN eload_goods_es AS ges ON ges.goods_id=g.goods_id \
                LEFT JOIN eload_goods_extend as ge ON g.goods_id = ge.goods_id \
                LEFT JOIN eload_goods_attr as ga ON g.goods_id = ga.goods_id \
				LEFT JOIN eload_goods_attr_multi_lang AS gal ON ga.attr_id=gal.attr_id AND ga.attr_value=gal.attr_value AND gal.lang='es' \
                LEFT JOIN eload_goods_attr AS gac ON g.goods_id = gac.goods_id AND gac.`attr_id`=8 \
				LEFT JOIN eload_r_rosewholesale_category as rwc ON rwc.goods_sn = g.goods_sn \
                LEFT JOIN eload_category_new_sort as cns ON g.cat_id = cns.cat_id \
                LEFT JOIN eload_goods_outlet as ego ON g.goods_sn = ego.goods_sn \
                WHERE g.is_on_sale=1 AND g.is_delete=0 AND g.is_alone_sale = 1 AND g.goods_thumb != '' GROUP BY g.goods_id
sql_attr_timestamp   = add_time
sql_attr_float    = overall_rate
sql_attr_uint    = is_24h_ship
sql_attr_uint    = is_BF
sql_attr_uint    = edit_status_8
sql_attr_uint    = new_goods_sort
sql_attr_uint    = new_goods_date
sql_attr_uint    = sort_order
sql_attr_uint    = goods_grade
sql_attr_uint    = unsalable
sql_attr_uint    = shelf_down_type
sql_attr_uint    = self_img_type
sql_attr_float   = clearance_discount
sql_attr_uint    = clearance_date
sql_attr_uint    = goods_number
sql_attr_uint    = real_stock
sql_attr_uint    = in_stock
sql_attr_uint    = group_goods_id
sql_attr_uint    = group_color_goods_id
sql_attr_float   = point_rate
sql_attr_uint    = is_free_shipping
sql_attr_uint    = is_hot
sql_attr_timestamp   = promote_start_date
sql_attr_timestamp   = promote_end_date
sql_attr_uint    = reviews
sql_attr_uint    = recommendation
sql_attr_uint    = week1sale
sql_attr_uint    = week2sale
sql_attr_uint    = week2sale_us
sql_attr_uint    = week2sale_ca
sql_attr_uint    = week2sale_au
sql_attr_uint    = week2sale_gb
sql_attr_uint    = week2sale_pr
sql_attr_uint    = week2sale_price
sql_attr_uint    = group_sale_number
sql_attr_float    = cxj
sql_attr_uint    = click_count
sql_attr_float   = shop_price
sql_attr_uint   = week1sale_spu
sql_attr_uint   = week2sale_spu
sql_attr_uint   = zhekou
sql_attr_float   = last_real_price
sql_attr_uint    = is_login
sql_attr_uint    = is_new
sql_attr_float   = goods_weight
sql_attr_bigint  = seo_id
sql_attr_uint    = cat_id	
sql_attr_uint    =is_promote
sql_attr_uint    =hot_order
sql_attr_uint    =has_goods_brand
sql_attr_uint    = up
sql_field_string = goods_model
sql_field_string = url_title
sql_attr_uint	 = day3sale
sql_attr_uint    = is_distribution
sql_attr_uint    = recommended_level
sql_attr_multi   = uint cat_id_all from query; SELECT goods_id,cat_id FROM (SELECT goods_id,cat_id FROM eload_goods UNION SELECT goods_id,cat_id FROM eload_goods_cat) AS t
sql_attr_multi       = uint search_attr from query; SELECT goods_id,crc32 FROM eload_goods_desc_info
sql_attr_uint	 = outlet_id
sql_attr_uint    = outlet_sort
}
 
index rosewholesale_es
{
    source               =  rosewholesale_es
    path                 = /usr/local/sphinx/var/data/rosewholesale_es
    docinfo              = extern
    enable_star          = 1
    charset_type         = utf-8
    infix_fields         = goods_sn,goods_brief,goods_title,goods_name,goods_title_color_size,goods_color,goods_search_attr_test
    min_infix_len        = 1
    charset_table        = 0..9,A..Z->a..z,a..z,U+2C,U+2E,U+2B,U+5F,U+7B,U+7D,U+5E,U+43,U+26,U+28,U+29,U+2F,U+2D
    #charset_table       = 0..9,A..Z->a..z,a..z,U+2C,U+2E,U+2B,U+5F,U+7B,U+7D,U+5E
}
##############rosewholesale_es end





source rosewholesale_keywords 
{
    type                    = mysql
    sql_host                = 10.60.46.193
    sql_user                = rw_test_user
    sql_pass                = AZtlBMG7JqYEQF
    sql_db                  = rosewholesale_db_20160119
    sql_query_pre           = SET NAMES utf8
    sql_query_pre           = REPLACE INTO eload_sphinx_counter SELECT 'rosewholesale_keywords',MAX(last_update_time),UNIX_TIMESTAMP() FROM eload_abc_index_keywords where lang='en'
    sql_query               = \
                            SELECT keyword_id,SUBSTRING(keyword,1,1) AS first_letter,keyword,cat_id,top_cat_id,goods_num,IF(word_count>5, 5, word_count) AS word_count,is_show,is_front_show,IF(is_show=1 OR is_front_show=1,1,0) AS front_show,0 AS is_delete \
                            FROM eload_abc_index_keywords where lang='en'
    sql_query_info          = SELECT * FROM eload_abc_index_keywords WHERE keyword_id=$id
    #sql_query_post_index   = CALL sphinx_sql_query_post_index('trendsgal_keywords', 'trendsgal_keywords')
    sql_attr_uint           = cat_id
    sql_attr_uint           = top_cat_id
    sql_attr_uint           = word_count
    #sql_attr_string        = keyword
    sql_attr_uint           = is_delete
	sql_attr_uint           = is_show
	sql_attr_uint           = is_front_show
	sql_attr_uint           = front_show
    sql_field_string        = keyword
    sql_attr_uint           = goods_num
}

index rosewholesale_keywords {
    source                  = rosewholesale_keywords
    path                    = /usr/local/sphinx/var/data/rosewholesale_keywords
    charset_table           = 0..9, A..Z->a..z, _, a..z, .
    charset_type            = utf-8
}


source rosewholesale_keywords_delta : rosewholesale_keywords {
    sql_query_pre           = SET NAMES utf8
    sql_query_pre           = UPDATE eload_sphinx_counter SET begin_time=UNIX_TIMESTAMP() WHERE index_name='rosewholesale_keywords'
    #sql_query_post_index   = CALL sphinx_sql_query_post_index('rosewholesale_keywords', 'rosewholesale_keywords_delta')
    sql_query               = \
                            SELECT keyword_id,SUBSTRING(keyword,1,1) AS first_letter,keyword,cat_id,top_cat_id,goods_num,IF(word_count>5, 5, word_count) AS word_count,0 AS is_delete,is_show,is_front_show,IF(is_show=1 OR is_front_show=1,1,0) as front_show,is_exclude_words \
                            FROM eload_abc_index_keywords\
                            WHERE lang='en' and last_update_time>(SELECT last_time FROM eload_sphinx_counter WHERE index_name='rosewholesale_keywords')
}

index rosewholesale_keywords_delta : rosewholesale_keywords {
    source                  = rosewholesale_keywords_delta
    path                    = /usr/local/sphinx/var/data/rosewholesale_keywords_delta
}


source rosewholesale_keywords_es 
{
    type                    = mysql
    sql_host                = 10.60.46.193
    sql_user                = rw_test_user
    sql_pass                = AZtlBMG7JqYEQF
    sql_db                  = rosewholesale_db_20160119
    sql_query_pre           = SET NAMES utf8
    sql_query_pre           = REPLACE INTO eload_sphinx_counter SELECT 'rosewholesale_keywords_es',MAX(last_update_time),UNIX_TIMESTAMP() FROM eload_abc_index_keywords where lang='es'
    sql_query               = \
                            SELECT keyword_id,SUBSTRING(keyword,1,1) AS first_letter,keyword,cat_id,top_cat_id,goods_num,IF(word_count>5, 5, word_count) AS word_count,is_show,is_front_show,IF(is_show=1 OR is_front_show=1,1,0) as front_show,0 AS is_delete \
                            FROM eload_abc_index_keywords where lang='es'
    sql_query_info          = SELECT * FROM eload_abc_index_keywords WHERE keyword_id=$id
    
    sql_attr_uint           = cat_id
    sql_attr_uint           = top_cat_id
    sql_attr_uint           = word_count
    sql_attr_uint           = is_delete
	sql_attr_uint           = is_show
	sql_attr_uint           = is_front_show
	sql_attr_uint           = front_show
    #sql_attr_string        = keyword
    sql_field_string        = keyword
    sql_attr_uint           = goods_num
}

index rosewholesale_keywords_es {
    source                  = rosewholesale_keywords_es
    path                    = /usr/local/sphinx/var/data/rosewholesale_keywords_es
    charset_table           = 0..9, A..Z->a..z, _, a..z, .
    charset_type            = utf-8
}



source rosewholesale_hot_keywords
{
        type                                    = mysql
        sql_host                                = 10.60.46.193
        sql_user                                = rw_test_user
        sql_pass                                = AZtlBMG7JqYEQF 
        sql_db                                  = rosewholesale_db_20160119
        sql_sock                         		= /tmp/mysql.sock
        sql_port                                = 3306  
		sql_query_pre 							= SET NAMES utf8
        #测试机取得是30天以内的记录(线上3天内包括当天)
		sql_query                               = \
		SELECT ak.keyword_id,ak.keyword,SUM(k.count) AS three_count,ak.goods_num FROM  `eload_keywords` AS k INNER JOIN `eload_abc_index_keywords` AS ak  ON ak.`keyword`=k.`keyword` WHERE k.`searchengine`='Rosewholesale.com' AND k.date>=FROM_UNIXTIME(UNIX_TIMESTAMP()-24*3600*30,'%Y-%m-%d') GROUP BY k.`keyword` ORDER BY three_count DESC LIMIT 20000
		sql_attr_uint    = three_count
		sql_attr_uint    = goods_num
		sql_field_string   = keyword

}

index rosewholesale_hot_keywords {
    source                  = rosewholesale_hot_keywords
    path                    = /usr/local/sphinx/var/data/rosewholesale_hot_keywords
    charset_table           = 0..9, A..Z->a..z, _, a..z, .
    charset_type            = utf-8
	docinfo         		= extern
	enable_star         	= 1
	min_infix_len			= 1
	infix_fields			= keyword
	
}


##############rosewholesale_sitemap_keyword
source rosewholesale_sitemap_keyword
{
        type                                    = mysql
 
        sql_host                                = 10.60.46.193
        sql_user                                = rw_test_user
        sql_pass                                = AZtlBMG7JqYEQF 
        sql_db                                  = rosewholesale_db_20160119
        sql_sock                         		=  /tmp/mysql.sock
        sql_port                                = 3306  
		sql_query_pre 							= SET NAMES utf8
        
		sql_query                               = \
		SELECT id,keyword,SUBSTRING(keyword,1,1) AS first_letter FROM eload_hot_keyword ORDER BY one_month_count DESC
		sql_field_string      = keyword
		sql_field_string      = first_letter
}

index rosewholesale_sitemap_keyword {
    source                  = rosewholesale_sitemap_keyword
		
	path                    = /usr/local/sphinx/var/data/rosewholesale_sitemap_keyword
    charset_table           = 0..9, A..Z->a..z, _, a..z, .
    charset_type            = utf-8
	docinfo         		= extern
	enable_star         	= 1
	min_infix_len			= 1
	infix_fields			= keyword
	
}
##############rosewholesale_sitemap_keyword end

##############rosewholesale_recommend_keyword
source rosewholesale_recommend_keyword
{
        type                                    = mysql
 
        sql_host                                = 10.60.46.193
        sql_user                                = rw_test_user
        sql_pass                                = AZtlBMG7JqYEQF 
        sql_db                                  = rosewholesale_db_20160119
        sql_sock                         		=  /tmp/mysql.sock
        sql_port                                = 3306  
		sql_query_pre 							= SET NAMES utf8
        
		sql_query                               = \
		select id,keyword,SUBSTRING(keyword,1,1) AS first_letter,cat_id,lang,url,goods_number,`level`,uptime,is_show,is_front_show from `eload_recommend_keyword` where is_show = 1 OR is_front_show=1
		sql_attr_uint      = lang
		sql_attr_uint      = cat_id
		sql_attr_uint      = goods_number
		sql_attr_uint      = level
		sql_attr_uint      = is_show
		sql_attr_uint      = is_front_show
		sql_attr_timestamp = uptime
		sql_field_string   = keyword
		sql_field_string   = url

}

index rosewholesale_recommend_keyword {
    source                  = rosewholesale_recommend_keyword
		
	path                    = /usr/local/sphinx/var/data/rosewholesale_recommend_keyword
    charset_table           = 0..9, A..Z->a..z, _, a..z, .
    charset_type            = utf-8
	docinfo         		= extern
	enable_star         	= 1
	min_infix_len			= 1
	infix_fields			= keyword
	
}
##############rosewholesale_recommend_keyword end


indexer
{
	mem_limit		= 512M
}


searchd
{
	port			= 9361
	#listen			= 9306:mysql41
	log			= /usr/local/sphinx/var/log/rs_searchd.log
	query_log		= /usr/local/sphinx/var/log/rs_query.log
	read_timeout		= 5
	max_children		= 30
	pid_file		= /usr/local/sphinx/var/log/rs_searchd.pid
	max_matches		= 30000
	seamless_rotate		= 1
	preopen_indexes		= 1
	unlink_old		= 1
	compat_sphinxql_magics  = 0
	workers			= threads # for RT to work
	max_batch_queries       = 64
	binlog_path		= #/usr/local/sphinx/var/data
}
